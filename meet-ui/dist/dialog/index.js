const DEFAULT_PROPS={visible:!1,width:600,type:"normal",headImg:"",iconfont:"",iconsize:112,icon:"",iconOffset:0,title:"",content:"",placeholder:"",buttons:[],btnDirection:"row",mask:!0,maskClosable:!1,hasClose:!1,inputType:"text",inputMaxLen:140,animation:"fadeIn",extClass:""};Component({options:{addGlobalClass:!0,multipleSlots:!0,styleIsolation:"shared"},properties:{props:{type:Object,value(){return{}}}},observers:{props(t){t.visible?this.show(t):this.close()}},data:{},methods:{show(t){t.buttons&&0!==t.buttons.length||("confirm"===t.type||"prompt"===t.type?this._setPresetBtns(t):this._setBtns(t));t=Object.assign({},DEFAULT_PROPS,t);this._init(t),this.setData({visible:!0,type:t.type,icon:t.icon,iconOffset:t.iconOffset,title:t.title,content:t.content,btnDirection:t.btnDirection,mask:t.mask,maskClosable:t.maskClosable,hasClose:t.hasClose,headImg:t.headImg,placeholder:t.placeholder,inputType:t.inputType,inputMaxLen:t.inputMaxLen,animation:t.animation,extClass:t.extClass})},_init({type:t,buttons:e,btnDirection:n}){let i="";var s=DEFAULT_PROPS.iconsize,o=[{text:"确定",confirm:!0}],a=[{text:"取消",cancel:!0},{text:"确定",confirm:!0}];switch(t){case"success":i="mt-icon--success-b",0===e.length&&(e=o);break;case"fail":i="mt-icon--error-b",0===e.length&&(e=o);break;case"alert":i="mt-icon--warning-b",0===e.length&&(e=o);break;case"confirm":case"prompt":0===e.length&&(e=a);break;case"custom":e=[];break;default:0===e.length&&(e=o)}this._initBtnsProps(e,n),this.setData({iconfont:i,iconsize:s,buttons:e})},_initBtnsProps(t,n){const i=t.length;t.forEach((t,e)=>{1===i?(t.type="primary",t.width=468,t.height=78,t.radius=40):2===i?"row"===n?(t.width=220,t.height=78,t.radius=40,t.type=0===e?"secondary":"primary"):(t.width=468,t.height=82,t.radius=42,t.type=0===e?"primary":"link"):(t.width=468,t.height=82,t.radius=42,t.type=0===e?"primary":"secondary")})},handleMask(){this.data.maskClosable&&this.close()},handleInput(t){t=t.detail;this.setData({inputVal:t.value})},handleButton(t){var t=t.currentTarget.dataset["index"];const e=this.data.buttons[t],n={...e};"prompt"===this.data.type&&(n.inputVal=this.data.inputVal),e.onClick?(t=(t=getCurrentPages())[t.length-1],e.onClick.bind(t)(n)):this.setData({visible:!1})},_setPresetBtns(t){t.btnDirection?t.buttons=[{text:t.confirmText||"确定",onClick:t.onConfirm},{text:t.cancelText||"取消",onClick:t.onCancel}]:t.buttons=[{text:t.cancelText||"取消",onClick:t.onCancel},{text:t.confirmText||"确定",onClick:t.onConfirm}]},_setBtns(t){t.buttons=[],t.btnDirection?((t.confirmText||t.onConfirm)&&t.buttons.push({text:t.confirmText||"确定",onClick:t.onConfirm}),(t.cancelText||t.onCancel)&&t.buttons.push({text:t.cancelText||"取消",onClick:t.onCancel})):((t.cancelText||t.onCancel)&&t.buttons.push({text:t.cancelText||"取消",onClick:t.onCancel}),(t.confirmText||t.onConfirm)&&t.buttons.push({text:t.confirmText||"确定",onClick:t.onConfirm}))},close(){"fadeInDown"===this.data.animation?(this.setData({animation:"fadeOutUp"}),setTimeout(()=>{this.setData({visible:!1})},600)):this.setData({visible:!1})},stopEvent(){}}});