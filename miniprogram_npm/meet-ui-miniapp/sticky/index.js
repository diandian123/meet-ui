Component({options:{multipleSlots:!0,addGlobalClass:!0},properties:{offsetTop:{type:Number,value:0},scrollTop:{type:Number,value:0},container:{type:null,optionalTypes:[String],value:null},zIndex:{type:Number,value:1e3}},observers:{container(t){"function"==typeof t&&this.getContainerRect().then(t=>{this.setData({containerHeight:t.height,containerWidth:t.width})})},scrollTop(t){this.onScroll({scrollTop:t})}},lifetimes:{ready(){var t=this.data["container"];"string"==typeof t&&0<t.length&&(t="#"+t,wx.createSelectorQuery().select(t).boundingClientRect(t=>{this.setData({containerHeight:t.height,containerWidth:t.width})}).exec())}},data:{height:0,fixedStatus:!1,containerStyle:"",contentStyle:"",containerWidth:0,containerHeight:0},methods:{onScroll(){const{container:t,offsetTop:e,containerHeight:i,containerWidth:n}=this.data;"function"==typeof t||"string"==typeof t?this.getRect(this,".mt-sticky").then(t=>{!(e>i+t.top)&&e>=t.top?this.setDataThrottle({fixedStatus:!0,width:n,height:t.height}):this.setDataThrottle({fixedStatus:!1})}):this.getRect(this,".mt-sticky").then(t=>{e>=t.top?this.setDataThrottle({fixedStatus:!0,height:t.height}):this.setDataThrottle({fixedStatus:!1})})},setDataThrottle(t){const{fixedStatus:e,zIndex:i}=this.data,{fixedStatus:n,height:o}=t,a=this.properties["offsetTop"];e!==n&&wx.nextTick(()=>{let t="",e="";n&&(t+=`height: ${o}px;`,e+=`position: fixed; top: ${a}px; left: 0; right: 0; z-index: ${i}; `),this.setData({fixedStatus:n,containerStyle:t,contentStyle:e})})},getRect(t,i){return new Promise(e=>{wx.createSelectorQuery().in(t).select(i).boundingClientRect().exec((t=[])=>e(t[0]))})},getContainerRect(){const e=this.data.container();return new Promise(t=>e.boundingClientRect(t).exec())}}});